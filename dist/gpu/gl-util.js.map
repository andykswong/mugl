{"version":3,"file":"gl-util.js","names":["GLenum","VertexStepMode","is3DTexture","dimension","TEXTURE_3D","TEXTURE_2D_ARRAY","indexByteSize","format","UNSIGNED_SHORT","vertexByteSize","vertexSize","vertexType","FLOAT","HALF_FLOAT","SHORT","BYTE","UNSIGNED_BYTE","NONE","vertexNormalized","vertexBufferLayouts","buffers","shaderLocation","result","i","length","attributes","stride","j","push","offset","stepMode","instanced","Instance","Vertex","isDepthStencil","DEPTH_COMPONENT16","DEPTH_COMPONENT24","DEPTH24_STENCIL8","DEPTH_COMPONENT32F","DEPTH32F_STENCIL8","hasStencil","STENCIL_INDEX8","glTexelFormat","R8","R8_SNORM","R16F","R32F","RED","R8UI","R8I","R16UI","R16I","R32UI","R32I","RED_INTEGER","RG8","RG8_SNORM","RG16F","RG32F","RG","RG8UI","RG8I","RG16UI","RG16I","RG32UI","RG32I","RG_INTEGER","RGBA8","SRGB8_ALPHA8","RGBA8_SNORM","RGB10_A2","RGBA16F","RGBA32F","RGBA","RGBA8UI","RGBA8I","RGBA16UI","RGBA32UI","RGBA16I","RGBA32I","RGBA_INTEGER","R11F_G11F_B10F","RGB","DEPTH_COMPONENT","DEPTH_STENCIL","glTexelSize","glTexelType","UNSIGNED_INT","INT","UNSIGNED_INT_2_10_10_10_REV","UNSIGNED_INT_10F_11F_11F_REV","UNSIGNED_INT_24_8","FLOAT_32_UNSIGNED_INT_24_8_REV","glClearType"],"sources":["../../js/gpu/gl-util.ts"],"sourcesContent":["import * as GLenum from './gl-const';\nimport { VertexAttribute, VertexBufferFormats, VertexBufferLayout } from './descriptor';\nimport { UInt } from './primitive';\nimport { IndexFormat, TextureDimension, TextureFormat, VertexFormat, VertexStepMode } from './type';\n\n/**\n * Checks if given texture type is a 3D or 2D array texture.\n * @internal\n * @param dimension texture dimension\n * @return whether the texture type is 3D\n */\nexport function is3DTexture(dimension: TextureDimension): boolean {\n  return dimension === GLenum.TEXTURE_3D || dimension === GLenum.TEXTURE_2D_ARRAY;\n}\n\n/**\n * Returns the byte size of a index format.\n * @internal\n * @param format index format\n * @returns byte size of the format\n */\nexport function indexByteSize(format: IndexFormat): UInt {\n  return format === GLenum.UNSIGNED_SHORT ? 2 : 4;\n}\n\n/**\n * Returns the byte size of a vertex format.\n * @internal\n * @param format vertex format\n * @returns byte size\n */\nexport function vertexByteSize(format: VertexFormat): UInt {\n  return ((format >> 4) & 0xF) * vertexSize(format);\n}\n\n/**\n * Returns the number of components of a vertex format.\n * @internal\n * @param format vertex format\n * @returns number of components\n */\n export function vertexSize(format: VertexFormat): UInt {\n  return format & 0xF;\n}\n\n/**\n * Returns the data type of a vertex format.\n * @internal\n * @param format vertex format\n * @returns GL data type\n */\nexport function vertexType(format: VertexFormat): UInt {\n  switch ((format >> 4) & 0x1FF) {\n    case 0x024:\n      return GLenum.FLOAT;\n    case 0x022:\n      return GLenum.HALF_FLOAT;\n    case 0x112:\n      return GLenum.SHORT;\n    case 0x111:\n      return GLenum.BYTE;\n    case 0x012:\n      return GLenum.UNSIGNED_SHORT;\n    case 0x011:\n      return GLenum.UNSIGNED_BYTE;\n  }\n\n  return GLenum.NONE;\n}\n\n/**\n * Returns if a vertex format is normalized.\n * @internal\n * @param format vertex format\n * @returns number of components\n */\nexport function vertexNormalized(format: VertexFormat): boolean {\n  return !!(format >> 13);\n}\n\n/**\n * Auto-calculates the offsets, strides, shaderLocation for given attribute formats.\n * @param buffers the buffer layouts\n * @return the calculated vertex buffer layout \n */\nexport function vertexBufferLayouts(buffers: VertexBufferFormats[]): VertexBufferLayout[] {\n  let shaderLocation = 0;\n  const result: VertexBufferLayout[] = [];\n  for (let i = 0; i < buffers.length; ++i) {\n    const attributes: VertexAttribute[] = [];\n    let stride = 0;\n    for (let j = 0; j < buffers[i].attributes.length; ++j) {\n      const format = buffers[i].attributes[j];\n      attributes.push({\n        format,\n        offset: stride,\n        shaderLocation,\n      });\n      stride += vertexByteSize(format);\n      ++shaderLocation;\n    }\n    result.push({\n      attributes,\n      stride,\n      stepMode: buffers[i].instanced ? VertexStepMode.Instance : VertexStepMode.Vertex,\n    });\n  }\n\n  return result;\n}\n\n/**\n * Checks if given texture format is a depth/stencil format.\n * @internal\n * @param format texture format\n * @returns whether the texture format is a depth/stencil format\n */\n export function isDepthStencil(format: TextureFormat): boolean {\n  switch (format) {\n    case GLenum.DEPTH_COMPONENT16:\n    case GLenum.DEPTH_COMPONENT24:\n    case GLenum.DEPTH24_STENCIL8:\n    case GLenum.DEPTH_COMPONENT32F:\n    case GLenum.DEPTH32F_STENCIL8:\n      return true;\n  }\n  return false;\n}\n\n/**\n * Checks if given texture format has stencil component.\n * @internal\n * @param format texture format\n * @returns whether the texture format has stencil component\n */\nexport function hasStencil(format: TextureFormat): boolean {\n  switch (format) {\n    case GLenum.STENCIL_INDEX8:\n    case GLenum.DEPTH24_STENCIL8:\n    case GLenum.DEPTH32F_STENCIL8:\n      return true;\n  }\n  return false;\n}\n\n/**\n * Gets the GL texel format from a texture format.\n * @internal\n * @param format texture format\n * @returns GL texel format\n */\n export function glTexelFormat(format: TextureFormat): UInt {\n  switch (format) {\n    case GLenum.R8:\n    case GLenum.R8_SNORM:\n    case GLenum.R16F:\n    case GLenum.R32F:\n      return GLenum.RED;\n    case GLenum.R8UI:\n    case GLenum.R8I:\n    case GLenum.R16UI:\n    case GLenum.R16I:\n    case GLenum.R32UI:\n    case GLenum.R32I:\n      return GLenum.RED_INTEGER;\n    case GLenum.RG8:\n    case GLenum.RG8_SNORM:\n    case GLenum.RG16F:\n    case GLenum.RG32F:\n      return GLenum.RG;\n    case GLenum.RG8UI:\n    case GLenum.RG8I:\n    case GLenum.RG16UI:\n    case GLenum.RG16I:\n    case GLenum.RG32UI:\n    case GLenum.RG32I:\n      return GLenum.RG_INTEGER;\n\n    case GLenum.RGBA8:\n    case GLenum.SRGB8_ALPHA8:\n    case GLenum.RGBA8_SNORM:\n    case GLenum.RGB10_A2:\n    case GLenum.RGBA16F:\n    case GLenum.RGBA32F:\n      return GLenum.RGBA;\n    case GLenum.RGBA8UI:\n    case GLenum.RGBA8I:\n    case GLenum.RGBA16UI:\n    case GLenum.RGBA32UI:\n    case GLenum.RGBA16I:\n    case GLenum.RGBA32I:\n      return GLenum.RGBA_INTEGER;\n\n    case GLenum.R11F_G11F_B10F:\n      return GLenum.RGB;\n\n    // Depth/stencil formats\n    case GLenum.DEPTH_COMPONENT16:\n    case GLenum.DEPTH_COMPONENT24:\n    case GLenum.DEPTH_COMPONENT32F:\n      return GLenum.DEPTH_COMPONENT;\n\n    case GLenum.DEPTH24_STENCIL8:\n    case GLenum.DEPTH32F_STENCIL8:\n      return GLenum.DEPTH_STENCIL;\n  }\n\n  return GLenum.NONE;\n}\n\n/**\n * Gets the GL texel byte size from a texture format.\n * @internal\n * @param format texture format\n * @returns GL texel byte size\n */\nexport function glTexelSize(format: TextureFormat): UInt {\n  switch (format) {\n    case GLenum.R8:\n    case GLenum.R8UI:\n    case GLenum.R8_SNORM:\n    case GLenum.R8I:\n      return 1;\n\n    case GLenum.R16UI:\n    case GLenum.R16I:\n    case GLenum.RG8:\n    case GLenum.RG8UI:\n    case GLenum.RG8_SNORM:\n    case GLenum.RG8I:\n    case GLenum.R16F:\n      return 2;\n\n    case GLenum.R32UI:\n    case GLenum.R32I:\n    case GLenum.R32F:\n    case GLenum.RG16UI:\n    case GLenum.RG16I:\n    case GLenum.RG16F:\n    case GLenum.RGBA8:\n    case GLenum.SRGB8_ALPHA8:\n    case GLenum.RGBA8UI:\n    case GLenum.RGBA8_SNORM:\n    case GLenum.RGBA8I:\n    case GLenum.RGB10_A2:\n    case GLenum.R11F_G11F_B10F:\n      return 4;\n\n    case GLenum.RG32UI:\n    case GLenum.RG32I:\n    case GLenum.RG32F:\n    case GLenum.RGBA16UI:\n    case GLenum.RGBA16I:\n    case GLenum.RGBA16F:\n      return 8;\n\n    case GLenum.RGBA32UI:\n    case GLenum.RGBA32I:\n    case GLenum.RGBA32F:\n      return 16;\n\n    case GLenum.DEPTH_COMPONENT16:\n      return 2;\n    case GLenum.DEPTH_COMPONENT24:\n    case GLenum.DEPTH24_STENCIL8:\n    case GLenum.DEPTH_COMPONENT32F:\n      return 4;\n    case GLenum.DEPTH32F_STENCIL8:\n      return 8;\n  }\n  return 0;\n}\n\n/**\n * Gets the GL texel type from a texture format.\n * @internal\n * @param format texture format\n * @returns GL texel size type\n */\nexport function glTexelType(format: TextureFormat): UInt {\n  switch (format) {\n    case GLenum.R8:\n    case GLenum.R8UI:\n    case GLenum.RG8:\n    case GLenum.RG8UI:\n    case GLenum.RGBA8:\n    case GLenum.SRGB8_ALPHA8:\n    case GLenum.RGBA8UI:\n      return GLenum.UNSIGNED_BYTE;\n\n    case GLenum.R8_SNORM:\n    case GLenum.R8I:\n    case GLenum.RG8_SNORM:\n    case GLenum.RG8I:\n    case GLenum.RGBA8_SNORM:\n    case GLenum.RGBA8I:\n      return GLenum.BYTE;\n\n    case GLenum.R16UI:\n    case GLenum.RG16UI:\n    case GLenum.RGBA16UI:\n      return GLenum.UNSIGNED_SHORT;\n\n    case GLenum.R16I:\n    case GLenum.RG16I:\n    case GLenum.RGBA16I:\n      return GLenum.SHORT;\n\n    case GLenum.R32UI:\n    case GLenum.RG32UI:\n    case GLenum.RGBA32UI:\n      return GLenum.UNSIGNED_INT;\n\n    case GLenum.R32I:\n    case GLenum.RG32I:\n    case GLenum.RGBA32I:\n      return GLenum.INT;\n\n    case GLenum.RGB10_A2:\n      return GLenum.UNSIGNED_INT_2_10_10_10_REV;\n\n    case GLenum.R16F:\n    case GLenum.RG16F:\n    case GLenum.RGBA16F:\n      return GLenum.HALF_FLOAT;\n\n    case GLenum.R32F:\n    case GLenum.RG32F:\n    case GLenum.RGBA32F:\n      return GLenum.FLOAT;\n\n    case GLenum.R11F_G11F_B10F:\n      return GLenum.UNSIGNED_INT_10F_11F_11F_REV;\n\n    // Depth/stencil formats\n    case GLenum.DEPTH_COMPONENT16:\n      return GLenum.UNSIGNED_SHORT;\n    case GLenum.DEPTH_COMPONENT24:\n      return GLenum.UNSIGNED_INT;\n    case GLenum.DEPTH24_STENCIL8:\n      return GLenum.UNSIGNED_INT_24_8;\n    case GLenum.DEPTH_COMPONENT32F:\n      return GLenum.FLOAT;\n    case GLenum.DEPTH32F_STENCIL8:\n      return GLenum.FLOAT_32_UNSIGNED_INT_24_8_REV;\n  }\n\n  return GLenum.NONE;\n}\n\n/**\n * Gets the data type required to clear a buffer of given texture format.\n * @internal\n * @param format texture format\n * @returns FLOAT / INT / UNSIGNED_INT\n */\nexport function glClearType(format: TextureFormat): UInt {\n  switch (format) {\n    case GLenum.R8I:\n    case GLenum.R16I:\n    case GLenum.R32I:\n    case GLenum.RG8I:\n    case GLenum.RG16I:\n    case GLenum.RG32I:\n    case GLenum.RGBA8I:\n    case GLenum.RGBA16I:\n    case GLenum.RGBA32I:\n      return GLenum.INT;\n\n    case GLenum.R8UI:\n    case GLenum.R16UI:\n    case GLenum.R32UI:\n    case GLenum.RG8UI:\n    case GLenum.RG16UI:\n    case GLenum.RG32UI:\n    case GLenum.RGBA8UI:\n    case GLenum.RGBA16UI:\n    case GLenum.RGBA32UI:\n      return GLenum.UNSIGNED_INT;\n\n    /*\n    case GLenum.R8:\n    case GLenum.R8_SNORM:\n    case GLenum.R16F:\n    case GLenum.R32F:\n    case GLenum.RG8:\n    case GLenum.RG8_SNORM:\n    case GLenum.RG16F:\n    case GLenum.RG32F:\n    case GLenum.RGBA8:\n    case GLenum.SRGB8_ALPHA8:\n    case GLenum.RGBA8_SNORM:\n    case GLenum.RGB10_A2:\n    case GLenum.RGBA16F:\n    case GLenum.RGBA32F:\n    case GLenum.R11F_G11F_B10F:\n      return GLenum.FLOAT;\n    */\n  }\n\n  return GLenum.FLOAT;\n}\n"],"mappings":"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"}