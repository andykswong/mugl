{"version":3,"sources":["../../../../src/common/shaders/gltf/primitive.vs.glsl.ts"],"names":["PRIMITIVE_VS_SRC"],"mappings":"AAAA,MAAO,MAAMA,CAAAA,gBAAgB,CAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAjOO","sourcesContent":["export const PRIMITIVE_VS_SRC = `precision highp float;uniform mat4 model,viewProj;uniform mat3 normalMatrix;\n#ifdef USE_COLOR_0\n#if defined(COLOR_0_VEC3)\nattribute vec3 COLOR_0;\n#else\nattribute vec4 COLOR_0;\n#endif\nvarying vec4 vColor0;\n#endif\n#ifdef USE_TEXCOORD_0\nattribute vec2 TEXCOORD_0;\n#endif\n#ifdef USE_TEXCOORD_1\nattribute vec2 TEXCOORD_1;\n#endif\nvarying vec2 vTexCoord0,vTexCoord1;attribute vec3 POSITION;varying vec3 vPosition;\n#if defined(NUM_JOINTS) && defined(USE_WEIGHTS_0) && defined(USE_JOINTS_0)\n#define USE_SKIN\nattribute vec4 JOINTS_0,WEIGHTS_0;uniform mat4 jointMatrix[NUM_JOINTS];mat4 a(){mat4 b=WEIGHTS_0.x*jointMatrix[int(JOINTS_0.x)]+WEIGHTS_0.y*jointMatrix[int(JOINTS_0.y)]+WEIGHTS_0.z*jointMatrix[int(JOINTS_0.z)]+WEIGHTS_0.w*jointMatrix[int(JOINTS_0.w)];return b;}\n#endif\n#if defined(NUM_MORPHS) && defined(USE_POSITION_0) || defined(USE_NORMAL_0) || defined(USE_TANGENT_0)\n#define USE_MORPH\nuniform float targetWeights[NUM_MORPHS];\n#ifdef USE_POSITION_0\nattribute vec3 POSITION_0;\n#endif\n#ifdef USE_POSITION_1\nattribute vec3 POSITION_1;\n#endif\n#ifdef USE_POSITION_2\nattribute vec3 POSITION_2;\n#endif\n#ifdef USE_POSITION_3\nattribute vec3 POSITION_3;\n#endif\n#ifdef USE_POSITION_4\nattribute vec3 POSITION_4;\n#endif\n#ifdef USE_POSITION_5\nattribute vec3 POSITION_5;\n#endif\n#ifdef USE_POSITION_6\nattribute vec3 POSITION_6;\n#endif\n#ifdef USE_POSITION_7\nattribute vec3 POSITION_7;\n#endif\n#ifdef USE_NORMAL_0\nattribute vec3 NORMAL_0;\n#endif\n#ifdef USE_NORMAL_1\nattribute vec3 NORMAL_1;\n#endif\n#ifdef USE_NORMAL_2\nattribute vec3 NORMAL_2;\n#endif\n#ifdef USE_NORMAL_3\nattribute vec3 NORMAL_3;\n#endif\n#ifdef USE_NORMAL_4\nattribute vec3 NORMAL_4;\n#endif\n#ifdef USE_NORMAL_5\nattribute vec3 NORMAL_5;\n#endif\n#ifdef USE_NORMAL_6\nattribute vec3 NORMAL_6;\n#endif\n#ifdef USE_NORMAL_7\nattribute vec3 NORMAL_7;\n#endif\n#ifdef USE_TANGENT_0\nattribute vec3 TANGENT_0;\n#endif\n#ifdef USE_TANGENT_1\nattribute vec3 TANGENT_1;\n#endif\n#ifdef USE_TANGENT_2\nattribute vec3 TANGENT_2;\n#endif\n#ifdef USE_TANGENT_3\nattribute vec3 TANGENT_3;\n#endif\n#ifdef USE_TANGENT_4\nattribute vec3 TANGENT_4;\n#endif\n#ifdef USE_TANGENT_5\nattribute vec3 TANGENT_5;\n#endif\n#ifdef USE_TANGENT_6\nattribute vec3 TANGENT_6;\n#endif\n#ifdef USE_TANGENT_7\nattribute vec3 TANGENT_7;\n#endif\nvec3 c(){vec3 d=vec3(0.);\n#ifdef USE_POSITION_0\nd+=targetWeights[0]*POSITION_0;\n#endif\n#ifdef USE_POSITION_1\nd+=targetWeights[1]*POSITION_1;\n#endif\n#ifdef USE_POSITION_2\nd+=targetWeights[2]*POSITION_2;\n#endif\n#ifdef USE_POSITION_3\nd+=targetWeights[3]*POSITION_3;\n#endif\n#ifdef USE_POSITION_4\nd+=targetWeights[4]*POSITION_4;\n#endif\n#ifdef USE_POSITION_5\nd+=targetWeights[5]*POSITION_5;\n#endif\n#ifdef USE_POSITION_6\nd+=targetWeights[6]*POSITION_6;\n#endif\n#ifdef USE_POSITION_7\nd+=targetWeights[7]*POSITION_7;\n#endif\nreturn d;}vec3 e(){vec3 d=vec3(0.);\n#ifdef USE_NORMAL_0\nd+=targetWeights[0]*NORMAL_0;\n#endif\n#ifdef USE_NORMAL_1\nd+=targetWeights[1]*NORMAL_1;\n#endif\n#ifdef USE_NORMAL_2\nd+=targetWeights[2]*NORMAL_2;\n#endif\n#ifdef USE_NORMAL_3\nd+=targetWeights[3]*NORMAL_3;\n#endif\n#ifdef USE_NORMAL_4\nd+=targetWeights[4]*NORMAL_4;\n#endif\n#ifdef USE_NORMAL_5\nd+=targetWeights[5]*NORMAL_5;\n#endif\n#ifdef USE_NORMAL_6\nd+=targetWeights[6]*NORMAL_6;\n#endif\n#ifdef USE_NORMAL_7\nd+=targetWeights[7]*NORMAL_7;\n#endif\nreturn d;}vec3 f(){vec3 d=vec3(0.);\n#ifdef USE_TANGENT_0\nd+=targetWeights[0]*TANGENT_0;\n#endif\n#ifdef USE_TANGENT_1\nd+=targetWeights[1]*TANGENT_1;\n#endif\n#ifdef USE_TANGENT_2\nd+=targetWeights[2]*TANGENT_2;\n#endif\n#ifdef USE_TANGENT_3\nd+=targetWeights[3]*TANGENT_3;\n#endif\n#ifdef USE_TANGENT_4\nd+=targetWeights[4]*TANGENT_4;\n#endif\n#ifdef USE_TANGENT_5\nd+=targetWeights[5]*TANGENT_5;\n#endif\n#ifdef USE_TANGENT_6\nd+=targetWeights[6]*TANGENT_6;\n#endif\n#ifdef USE_TANGENT_7\nd+=targetWeights[7]*TANGENT_7;\n#endif\nreturn d;}\n#endif\nvec4 g(){vec4 h=vec4(POSITION,1.);\n#ifdef USE_MORPH\nh+=vec4(c(),0.);\n#endif\n#ifdef USE_SKIN\nh=a()*h;\n#endif\nreturn h;}\n#ifdef USE_NORMAL\nattribute vec3 NORMAL;\n#ifdef USE_TANGENT\nattribute vec4 TANGENT;varying mat3 vTBN;vec3 i(){vec3 j=TANGENT.xyz;\n#ifdef USE_MORPH\ntan+=f();\n#endif\n#ifdef USE_SKIN\ntan=mat3(a())*tan;\n#endif\nreturn normalize(tan);}\n#else\nvarying vec3 vNormal;\n#endif\nvec3 k(){vec3 l=NORMAL;\n#ifdef USE_MORPH\nl+=e();\n#endif\n#ifdef USE_SKIN\nl=mat3(a())*l;\n#endif\nreturn normalize(l);}\n#endif\nvoid main(void){vec4 h=model*g();vPosition=h.xyz/h.w;\n#ifdef USE_NORMAL\n#ifdef USE_TANGENT\nvec3 j=i();vec3 m=normalize(normalMatrix*k());vec3 n=normalize(normalMatrix*tan);vec3 o=cross(m,n)*TANGENT.w;vTBN=mat3(n,o,m);\n#else\nvNormal=normalize(normalMatrix*NORMAL);\n#endif\n#endif\n#ifdef USE_COLOR_0\n#if defined(COLOR_0_VEC3)\nvColor0=vec4(COLOR_0,1.);\n#else\nvColor0=COLOR_0;\n#endif\n#endif\nvTexCoord0=vec2(0.);vTexCoord1=vec2(0.);\n#ifdef USE_TEXCOORD_0\nvTexCoord0=TEXCOORD_0;\n#endif\n#ifdef USE_TEXCOORD_1\nvTexCoord1=TEXCOORD_1;\n#endif\ngl_Position=viewProj*h;gl_PointSize=1.;}`;\n"],"file":"primitive.vs.glsl.js"}